var windowWidth=parseInt($(window).width());$(function(){$('a[href^="#"]').click(function(){var t=$(this).attr("href"),e=$("#"==t||""==t?"html":t);if(windowWidth>=900){var o=e.offset().top-80;return $("body,html").animate({scrollTop:o},400,"swing"),!1}var s=e.offset().top-50;return $("body,html").animate({scrollTop:s},400,"swing"),!1})}),windowWidth<=900?($("#nav_toggle").click(function(){$(this).hasClass("active")?($(this).removeClass("active"),$("#nav_conts").slideUp(500)):($(this).addClass("active"),$("#nav_conts").slideDown(500))}),$(window).scroll(function(){$("#nav_toggle").hasClass("active")&&($("#nav_toggle").removeClass("active"),$("#nav_conts").slideUp(500))}),$(".menu_parent").children("div").click(function(){$(this).next("ul").slideToggle(),$(".menu_parent ul").not($(this)).children("ul").slideUp()}),$(".menu_drawer").children("div").click(function(){$(this).parents(".menu_drawer").addClass("active"),$("#menu").addClass("drawer-is-open")}),$(".menu_drawer-close-btn").click(function(){$(this).parents(".menu_drawer").removeClass("active"),$("#menu").removeClass("drawer-is-open")})):$(".menu_parent").mouseenter(function(){$("li").removeClass("active"),$(this).addClass("active"),$(".menu_parent.active > ul").mouseleave(function(){$("li").removeClass("active"),$(".menu_career").click(function(){location.href="http://freedive.co.jp/career/"})})});var colors=new Array([62,35,255],[60,255,60],[255,35,98],[45,175,230],[255,0,255],[255,128,0]),step=0,colorIndices=[0,1,2,3],gradientSpeed=.002;function updateGradient(){if(void 0!==$){var t=colors[colorIndices[0]],e=colors[colorIndices[1]],o=colors[colorIndices[2]],s=colors[colorIndices[3]],i=1-step,n=Math.round(i*t[0]+step*e[0]),c=Math.round(i*t[1]+step*e[1]),a=Math.round(i*t[2]+step*e[2]),r="rgb("+n+","+c+","+a+")",l="rgba("+n+","+c+","+a+",.5)",d=Math.round(i*o[0]+step*s[0]),h=Math.round(i*o[1]+step*s[1]),f=Math.round(i*o[2]+step*s[2]),p="rgb("+d+","+h+","+f+")",u="rgba("+d+","+h+","+f+",.5)";$("#nav-contact , .fv-btn").css({background:"-webkit-gradient(linear, left top, right top, from("+r+"), to("+p+"))"}).css({background:"-moz-linear-gradient(left, "+r+" 0%, "+p+" 100%)"}),$(".cv_whale").css({background:"-webkit-gradient(linear, left top, right top, from("+l+"), to("+u+"))"}).css({background:"-moz-linear-gradient(left, "+l+" 0%, "+u+" 100%)"}),$(".stop1").css("stop-color",r),$(".stop2").css("stop-color",p),(step+=gradientSpeed)>=1&&(step%=1,colorIndices[0]=colorIndices[1],colorIndices[2]=colorIndices[3],colorIndices[1]=(colorIndices[1]+Math.floor(1+Math.random()*(colors.length-1)))%colors.length,colorIndices[3]=(colorIndices[3]+Math.floor(1+Math.random()*(colors.length-1)))%colors.length)}}setInterval(updateGradient,10);var effect_btm=100,effect_move=20,effect_timePc=600,effect_timeSp=300;$(".scroll-fade-row").css({opacity:0}),$(".scroll-fade-row").children().each(function(){windowWidth<=900?$(this).css({opacity:0,transform:"translateY("+effect_move+"px)",transition:effect_timeSp+"ms"}):$(this).css({opacity:0,transform:"translateY("+effect_move+"px)",transition:effect_timePc+"ms"})}),$(".scroll-fade-col").css({width:0}),$(".scroll-fade-col").children().each(function(){windowWidth<=900?$(this).css({width:1,opacity:0,transition:effect_timeSp+"ms"}):$(this).css({width:1,opacity:0,transition:effect_timePc+"ms"})}),$(window).on("scroll load",function(){var t=(e=$(this).scrollTop())+$(this).height()-effect_btm;$(".scroll-fade-row").each(function(){var e=$(this).offset().top;t>e&&($(this).css({opacity:1,transform:"translateY(0)"}),$(this).children().each(function(t){$(this).delay(100+200*t).queue(function(){$(this).css({opacity:1,transform:"translateY(0)"}).dequeue()})}))}),$(".scroll-fade-col").each(function(){var e=$(this).offset().top;t>e&&$(this).css({opacity:1,width:"100%"})});var e;t=(e=$(this).scrollTop())+$(this).height()-effect_btm;if($(".inview").each(function(){var e=$(this).offset().top;t>e&&$(this).addClass("inview-active")}),0!==$(".manga-page").length){var o=$(".manga-page").eq(1),s=o.offset().top,i=o.height(),n=.425*o.width(),c=$(".manga-page-scroll"),a=c.height();s+i-a-6*n<e?(c.eq(0).addClass("hidden"),c.eq(1).removeClass("hidden")):(c.eq(0).removeClass("hidden"),c.eq(1).addClass("hidden")),s+i-a-4.6*n<e?c.each(function(){var t=n+i-a-4.6*n;$(this).css("top",t)}):s<e?c.each(function(){var t=n+e-s;$(this).css("top",t)}):c.each(function(){$(this).css("top",n)})}});