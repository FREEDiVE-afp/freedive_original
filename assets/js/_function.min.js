var windowWidth=parseInt($(window).width());$(function(){$('a[href^="#"]').click(function(){var d=400;var a=$(this).attr("href");var e=$(a=="#"||a==""?"html":a);var c=80;var g=50;if(windowWidth>=900){var b=e.offset().top-c;$("body,html").animate({scrollTop:b},d,"swing");return false}else{var f=e.offset().top-g;$("body,html").animate({scrollTop:f},d,"swing");return false}})});if(windowWidth<=900){$("#nav_toggle").click(function(){if($(this).hasClass("active")){$(this).removeClass("active");$("#nav_conts").slideUp(500)}else{$(this).addClass("active");$("#nav_conts").slideDown(500)}});$(window).scroll(function(){if($("#nav_toggle").hasClass("active")){$("#nav_toggle").removeClass("active");$("#nav_conts").slideUp(500)}});$(".menu_parent").children("div").click(function(){$(this).next("ul").slideToggle();$(".menu_parent ul").not($(this)).children("ul").slideUp()});$(".menu_drawer").children("div").click(function(){$(this).parents(".menu_drawer").addClass("active");$("#menu").addClass("drawer-is-open")});$(".menu_drawer-close-btn").click(function(){$(this).parents(".menu_drawer").removeClass("active");$("#menu").removeClass("drawer-is-open")});$(".toggle-bg").each(function(){$(this).attr("data-image-src",$(this).attr("data-image-src").replace("_pc","_sp"))})}else{$(".menu_parent").mouseenter(function(){$("li").removeClass("active");$(this).addClass("active");$(".menu_parent.active > ul").mouseleave(function(){$("li").removeClass("active");$(".menu_career").click(function(){location.href="http://freedive.co.jp/career/"})})})}var colors=new Array([62,35,255],[60,255,60],[255,35,98],[45,175,230],[255,0,255],[255,128,0]);var step=0;var colorIndices=[0,1,2,3];var gradientSpeed=0.002;function updateGradient(){if($===undefined){return}var h=colors[colorIndices[0]];var g=colors[colorIndices[1]];var j=colors[colorIndices[2]];var i=colors[colorIndices[3]];var c=1-step;var f=Math.round(c*h[0]+step*g[0]);var b=Math.round(c*h[1]+step*g[1]);var l=Math.round(c*h[2]+step*g[2]);var n="rgb("+f+","+b+","+l+")";var d="rgba("+f+","+b+","+l+",.5)";var e=Math.round(c*j[0]+step*i[0]);var o=Math.round(c*j[1]+step*i[1]);var k=Math.round(c*j[2]+step*i[2]);var m="rgb("+e+","+o+","+k+")";var a="rgba("+e+","+o+","+k+",.5)";$("#nav-contact , .fv-btn").css({background:"-webkit-gradient(linear, left top, right top, from("+n+"), to("+m+"))"}).css({background:"-moz-linear-gradient(left, "+n+" 0%, "+m+" 100%)"});$(".cv_whale").css({background:"-webkit-gradient(linear, left top, right top, from("+d+"), to("+a+"))"}).css({background:"-moz-linear-gradient(left, "+d+" 0%, "+a+" 100%)"});$(".stop1").css("stop-color",n);$(".stop2").css("stop-color",m);step+=gradientSpeed;if(step>=1){step%=1;colorIndices[0]=colorIndices[1];colorIndices[2]=colorIndices[3];colorIndices[1]=(colorIndices[1]+Math.floor(1+Math.random()*(colors.length-1)))%colors.length;colorIndices[3]=(colorIndices[3]+Math.floor(1+Math.random()*(colors.length-1)))%colors.length}}setInterval(updateGradient,10);var effect_btm=100;var effect_move=20;var effect_timePc=600;var effect_timeSp=300;$(".scroll-fade-row").css({opacity:0});$(".scroll-fade-row").children().each(function(){if(windowWidth<=900){$(this).css({opacity:0,transform:"translateY("+effect_move+"px)",transition:effect_timeSp+"ms"})}else{$(this).css({opacity:0,transform:"translateY("+effect_move+"px)",transition:effect_timePc+"ms"})}});$(".scroll-fade-col").css({opacity:0});$(".scroll-fade-col").children().each(function(){if(windowWidth<=900){$(this).css({opacity:0,transform:"translateX("+effect_move+"px)",transition:effect_timeSp+"ms"})}else{$(this).css({opacity:0,transform:"translateX("+effect_move+"px)",transition:effect_timePc+"ms"})}});$(window).on("scroll load",function(){var b=$(this).scrollTop();var c=b+$(this).height();var a=c-effect_btm;$(".scroll-fade-row").each(function(){var d=$(this).offset().top;if(a>d){$(this).css({opacity:1,transform:"translateY(0)"});$(this).children().each(function(e){$(this).delay(100+e*200).queue(function(){$(this).css({opacity:1,transform:"translateY(0)"}).dequeue()})})}})});